{"ast":null,"code":"var _jsxFileName = \"/Users/maayan/Projects/Sermo/SermoReact/src/chatPage/UploadImage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useState } from \"react\";\nimport \"./image.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UploadImage(props) {\n  _s();\n\n  const activeContact = props.active;\n  const user = props.user;\n  const [imEvent, setimEvent] = useState(false);\n  const [imUrl, setImUrl] = useState(null);\n  const imInput = useRef();\n\n  const setImgUrl = event => {\n    const file = event.target.files[0];\n    const url = URL.createObjectURL(file);\n    setImUrl(url);\n    document.getElementById(\"actual-btn-im\").addEventListener(\"click\", function (event) {\n      event.preventDefault();\n    });\n  };\n\n  function newImageMessage() {\n    if (imUrl) {\n      user.sendMessage(imUrl, activeContact.getName(), \"image\"); // log.newMessage(\"image\", imUrl, userName);\n\n      setImUrl(null);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"actual-btn-im\",\n      type: \"file\",\n      multiple: true,\n      accept: \"image/*\",\n      onChange: setImgUrl,\n      ref: imInput\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), imUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"lie\",\n      className: \"Fl\",\n      onClick: newImageMessage,\n      children: \"send image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n\n_s(UploadImage, \"1bqygQfnbFspJIdwsK80UDeU+9k=\");\n\n_c = UploadImage;\nexport default UploadImage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UploadImage\");","map":{"version":3,"sources":["/Users/maayan/Projects/Sermo/SermoReact/src/chatPage/UploadImage.js"],"names":["React","useRef","useState","UploadImage","props","activeContact","active","user","imEvent","setimEvent","imUrl","setImUrl","imInput","setImgUrl","event","file","target","files","url","URL","createObjectURL","document","getElementById","addEventListener","preventDefault","newImageMessage","sendMessage","getName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,OAAxC;AACA,OAAO,aAAP;;;AAEA,SAASC,WAAT,CAAqBC,KAArB,EAA4B;AAAA;;AAC1B,QAAMC,aAAa,GAAGD,KAAK,CAACE,MAA5B;AACA,QAAMC,IAAI,GAAGH,KAAK,CAACG,IAAnB;AACA,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,IAAD,CAAlC;AACA,QAAMU,OAAO,GAAGX,MAAM,EAAtB;;AAEA,QAAMY,SAAS,GAAIC,KAAD,IAAW;AAC3B,UAAMC,IAAI,GAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAb;AACA,UAAMC,GAAG,GAAGC,GAAG,CAACC,eAAJ,CAAoBL,IAApB,CAAZ;AACAJ,IAAAA,QAAQ,CAACO,GAAD,CAAR;AACAG,IAAAA,QAAQ,CACLC,cADH,CACkB,eADlB,EAEGC,gBAFH,CAEoB,OAFpB,EAE6B,UAAUT,KAAV,EAAiB;AAC1CA,MAAAA,KAAK,CAACU,cAAN;AACD,KAJH;AAKD,GATD;;AAWA,WAASC,eAAT,GAA2B;AACzB,QAAIf,KAAJ,EAAW;AACTH,MAAAA,IAAI,CAACmB,WAAL,CAAiBhB,KAAjB,EAAwBL,aAAa,CAACsB,OAAd,EAAxB,EAAiD,OAAjD,EADS,CAET;;AACAhB,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF;;AACD,sBACE;AAAA,4BACE;AACE,MAAA,EAAE,EAAC,eADL;AAEE,MAAA,IAAI,EAAC,MAFP;AAGE,MAAA,QAAQ,MAHV;AAIE,MAAA,MAAM,EAAC,SAJT;AAKE,MAAA,QAAQ,EAAEE,SALZ;AAME,MAAA,GAAG,EAAED;AANP;AAAA;AAAA;AAAA;AAAA,YADF,EASGF,KAAK,iBACJ;AAAQ,MAAA,EAAE,EAAC,KAAX;AAAiB,MAAA,SAAS,EAAC,IAA3B;AAAgC,MAAA,OAAO,EAAEe,eAAzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAVJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAiBD;;GA1CQtB,W;;KAAAA,W;AA4CT,eAAeA,WAAf","sourcesContent":["import React, { useRef, useState } from \"react\";\nimport \"./image.css\";\n\nfunction UploadImage(props) {\n  const activeContact = props.active;\n  const user = props.user;\n  const [imEvent, setimEvent] = useState(false);\n  const [imUrl, setImUrl] = useState(null);\n  const imInput = useRef();\n\n  const setImgUrl = (event) => {\n    const file = event.target.files[0];\n    const url = URL.createObjectURL(file);\n    setImUrl(url);\n    document\n      .getElementById(\"actual-btn-im\")\n      .addEventListener(\"click\", function (event) {\n        event.preventDefault();\n      });\n  };\n\n  function newImageMessage() {\n    if (imUrl) {\n      user.sendMessage(imUrl, activeContact.getName(), \"image\");\n      // log.newMessage(\"image\", imUrl, userName);\n      setImUrl(null);\n    }\n  }\n  return (\n    <div>\n      <input\n        id=\"actual-btn-im\"\n        type=\"file\"\n        multiple\n        accept=\"image/*\"\n        onChange={setImgUrl}\n        ref={imInput}\n      />\n      {imUrl && (\n        <button id=\"lie\" className=\"Fl\" onClick={newImageMessage}>\n          send image\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default UploadImage;\n"]},"metadata":{},"sourceType":"module"}